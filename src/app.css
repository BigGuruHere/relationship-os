/* src/app.css
   PURPOSE:
   - Keep your existing layout and structure exactly the same.
   - Switch to a light Relish palette that matches the logo.
   - All IT code is commented - color-only tweaks, no structural changes.
*/

:root {
  /* ---- Color tokens - light Relish theme ---- */
  --bg:           #F7FAF9;   /* app background */
  --panel:        #FFFFFF;   /* cards and panels */
  --panel-2:      #F4F7F6;   /* secondary surfaces */
  --text:         #142025;   /* primary text - deep slate */
  --muted:        #5B6B73;   /* secondary text */
  --border:       #D7E1E6;   /* soft borders */
  --accent:       #14B8A6;   /* teal from the logo */
  --accent-2:     #FF8A3D;   /* orange from the logo */
  --success:      #16A34A;
  --danger:       #DC2626;
  --warning:      #F59E0B;
  /* Relish edge teal */
--relish-edge: #9ebebd;


  /* ---- Shadows & radii ---- */
  --shadow-1:     0 8px 24px rgba(20, 32, 37, 0.08);
  --radius:       14px;

  /* ---- Sizing ---- */
  --sidebar-w:    260px;
}

/* Basic reset */
*,
*::before,
*::after { box-sizing: border-box; }

html, body, #svelte {
  height: 100%;
}

body {
  /* color-only change - light gradient wash, structure unchanged */
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1200px 700px at 20% -10%, #ECF5F3 0%, var(--bg) 65%);
  background-attachment: fixed;
}

/* Links */
a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Utilities */
.container {
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: 16px;
}

.card {
  /* color-only change - light surfaces */
  background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--panel);  /* light */
  color: var(--text);
  cursor: pointer;
  transition: transform 0.05s ease, background 0.2s ease, border-color 0.2s ease;
}
.btn:hover { background: var(--panel-2); }
.btn:active { transform: translateY(1px); }

/* primary button - teal to match the logo */
.btn.primary {
  background: linear-gradient(180deg, #21c7b6, #0fa7a0);
  border-color: #0f9b92;
  color: #FFFFFF;
}
.btn.primary:hover {
  filter: brightness(1.05);
}

/* Inputs */
input, select, textarea {
  /* color-only change - light inputs for the new theme */
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #FFFFFF;
  color: var(--text);
  outline: none;
}
label { display: block; color: var(--muted); font-size: 0.95rem; margin-bottom: 6px; }
.field { margin-bottom: 16px; }

/* Layout-specific helpers (used by +layout.svelte) */
.layout {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto minmax(0, 1fr) auto;
  min-height: 100dvh;
}

/* Desktop: sidebar + main */
@media (min-width: 1024px) {
  .layout {
    grid-template-columns: var(--sidebar-w) minmax(0, 1fr);
    grid-template-rows: minmax(0, 1fr) auto;
  }
}

/* Topbar (mobile) */
/* color-only change - light translucent */
.topbar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px);
}
.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
}
.brand .logo {
  width: 28px; height: 28px;
  display: grid; place-items: center;
  border-radius: 8px;
  background: radial-gradient(100% 100% at 0% 0%, var(--accent) 0%, var(--accent-2) 100%);
  color: white;
}

/* Sidebar (desktop only) */
/* color-only change - light translucent */
.sidebar {
  display: none;
  padding: 24px;
  border-right: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(8px);
}
@media (min-width: 1024px) {
  .sidebar { display: flex; flex-direction: column; gap: 20px; }
}
.nav-group { display: grid; gap: 8px; }
.nav-link {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid transparent;
  color: var(--text);
}
/* color-only change - lighter hover */
.nav-link:hover {
  background: var(--panel-2);
  border-color: var(--border);
  text-decoration: none;
}

/* Main content */
.main {
  padding: 18px;
}
@media (min-width: 768px) {
  .main { padding: 26px; }
}
@media (min-width: 1024px) {
  .main { padding: 32px 36px; }
}

/* Footer */
/* color-only change - light translucent */
.footer {
  border-top: 1px solid var(--border);
  padding: 16px;
  color: var(--muted);
  background: rgba(255, 255, 255, 0.6);
}

/* Mobile-only helper */
.mobile-only { display: block; }
@media (min-width: 1024px) { .mobile-only { display: none; } }

/* Desktop-only helper */
.desktop-only { display: none; }
@media (min-width: 1024px) { .desktop-only { display: block; } }


/* The logo container now holds an image - remove the old gradient */
.brand .logo {
  width: 28px; 
  height: 28px;
  border-radius: 8px;
  background: none;          /* old gradient off */
  overflow: hidden;          /* keeps rounded corners on the image */
}

/* Make the image fill the box cleanly */
.brand .logo img {
  width: 100%;
  height: 100%;
  display: block;            /* no inline gap */
  object-fit: contain;       /* preserve aspect ratio */
}

/* --- Global tag chips - inline row, wraps nicely --- */
/* Container for tags - use on a div or ul around your tags */
.tags-row,
.tag-list,
.chips {
  display: flex;           /* puts tags on the same line */
  flex-wrap: wrap;         /* wrap to next line if needed */
  gap: 8px;                /* space between tags */
  align-items: center;
  margin: 6px 0;
  padding: 0;
}

/* If you use a UL for tags, remove bullets and default spacing */
.tag-list {
  list-style: none;
}

/* Individual tag chip */
.pill,
.tag,
.chip {
  display: inline-flex;          /* keeps chip inline */
  align-items: center;
  gap: 6px;
  padding: 2px 10px;
  border-radius: 9999px;         /* full pill */
  border: 1px solid var(--border);
  background: var(--panel-2);    /* light chip background */
  color: var(--text);            /* readable text color */
  font-size: 12px;
  line-height: 1.2;
  white-space: nowrap;           /* avoids breaking in the middle */
}

/* Optional - visually distinguish AI-suggested tags */
.pill.ai,
.tag.ai,
.chip.ai {
  background: #FFF3E9;
  border-color: #FFD7B7;
  color: #8A4B14;
}

/* --- Tag chips - inline row with wrap and bordered pills --- */

/* Row container - keeps tags on one line until wrap is needed */
.tag-row {
  display: flex;           /* inline row */
  flex-wrap: wrap;         /* wrap to next line if needed */
  gap: 8px;                /* space between chips */
  align-items: center;
  margin: 6px 0;
  padding: 0;
}

/* Each tag is inside a form - make forms behave like inline items */
.tag-row form {
  display: inline-block;   /* flex item so gap applies */
  margin: 0;               /* remove default margins */
}

/* Button styled as a chip - bordered pill with readable text */
.chip {
  appearance: none;                /* reset native button chrome */
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 9999px;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--text);
  font-size: 12px;
  line-height: 1.1;
  cursor: pointer;
  white-space: nowrap;             /* keep names from breaking mid word */
}

/* Hover and focus states for accessibility */
.chip:hover {
  background: var(--panel);
  border-color: var(--accent);
}
.chip:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Inner spans - text and the x icon */
.chip-text { white-space: nowrap; }
.chip-x { font-weight: 600; opacity: 0.7; }
.chip:hover .chip-x { opacity: 1; }

/* Optional variant if you want to mark AI provenance */
.chip.ai {
  background: #FFF3E9;
  border-color: #FFD7B7;
  color: #8A4B14;
}

/* --- Relish edge teal placements - color only --- */

/* Desktop - left sidebar uses edge teal as background */
@media (min-width: 1024px) {
  .sidebar {
    /* solid teal background on desktop sidebar */
    background: var(--relish-edge) !important; /* override previous translucent bg */
  }
}

/* Desktop footer - teal background */
@media (min-width: 1024px) {
  .footer {
    background: var(--relish-edge) !important;
  }
}

/* Mobile - top panel and footer use teal background */
@media (max-width: 1023px) {
  .topbar {
    background: var(--relish-edge) !important;
  }
  .footer {
    background: var(--relish-edge) !important;
  }
}

/* Footer links - ensure contrast against teal */
.footer a {
  color: #FFFFFF !important;              /* readable on teal */
}
.footer a:hover {
  text-decoration: underline;             /* keep hover affordance */
}

/* --- Relish - separators under logo and app links - color only --- */

/* Desktop - in the left sidebar, add a divider under the logo block */
@media (min-width: 1024px) {
  /* comment: the brand area sits at the top of the sidebar */
  .sidebar .brand {
    border-bottom: 1px solid rgba(255, 255, 255, 0.24); /* readable over edge teal */
    padding-bottom: 12px;   /* space before the line */
    margin-bottom: 12px;    /* space after the line */
  }
}

/* Desktop - in the left sidebar, add a divider under each app-links group */
@media (min-width: 1024px) {
  /* comment: your links live inside .nav-group */
  .sidebar .nav-group {
    border-bottom: 1px solid rgba(255, 255, 255, 0.24); /* subtle line on teal */
    padding-bottom: 10px;
    margin-bottom: 10px;
  }
}

/* Mobile - add a separator under the top bar that contains the logo */
@media (max-width: 1023px) {
  .topbar {
    border-bottom: 1px solid rgba(255, 255, 255, 0.024); /* over teal background */
  }
}

/* Mobile - add a divider under app-links blocks when they appear in content */
@media (max-width: 1023px) {
  /* comment: outside the sidebar, nav groups sit on light surfaces */
  .nav-group {
    border-bottom: 1px solid var(--border); /* light theme line */
    padding-bottom: 10px;
    margin-bottom: 10px;
  }
}



/* Mobile topbar - add extra vertical padding around the brand block */
@media (max-width: 1023px) {
  .topbar .brand {
    /* comment: increase top and bottom padding without changing layout */
    padding-top: 12px;
    padding-bottom: 12px;
  }
}


/* Mobile topbar - keep logo left and actions right on one line */
@media (max-width: 1023px) {
  .topbar {
    /* already display:flex in your base - reaffirm here for clarity */
    display: flex;                 /* row layout */
    align-items: center;           /* vertical centering */
    gap: 8px;                      /* small gap between brand and actions */
  }

  .topbar .brand {
    display: flex;                 /* logo and title inline */
    align-items: center;           /* vertical centering */
    gap: 8px;                      /* logo - title spacing */
    padding: 8px 0;                /* a little vertical breathing room */
  }

  .topbar-actions {
    margin-left: auto;             /* push actions to the right */
    display: flex;                 /* place buttons on one row */
    align-items: center;           /* vertical centering */
    gap: 12px;                      /* tighter spacing on mobile */
    flex-wrap: nowrap;             /* prevent wrapping to a second line */
    white-space: nowrap;           /* keep items on one row */
    overflow-x: auto;              /* allow horizontal scroll if it still overflows */
    -webkit-overflow-scrolling: touch; /* smooth scroll on iOS */
  }

  /* Make the form with the logout button behave like a plain inline item */
  .topbar-actions form {
    display: inline-flex;          /* keep the button inline with the others */
    margin: 0;                     /* remove default margins */
  }

  /* Slightly denser buttons in the topbar to save space */
  .topbar-actions .btn {
    padding: 8px 10px;             /* compact padding for mobile */
    font-size: 0.95rem;            /* optional - slightly smaller label */
  }
}

/* app.css - add at the end */
/* Make brand wrapper a link without changing colors */
.brand { color: inherit; text-decoration: none; }
.brand:hover { text-decoration: none; }

/* make the mobile footer links a row on small screens only */
@media (max-width: 1023px) {
  .footer-links {
    display: flex;        /* row layout for the links */
    gap: 10px;            /* spacing between items */
    align-items: center;
  }
}

/* hard hide anything marked mobile-only on desktop - beats inline mishaps */
@media (min-width: 1024px) {
  .mobile-only { display: none !important; } /* comment: ensure desktop hides it */
}

/* Mobile topbar - make actions responsive and prevent overflow */
@media (max-width: 1023px) {
  .topbar {
    display: flex;                 /* single row */
    align-items: center;
    gap: 8px;
  }

  /* Keep brand fixed width on the left */
  .topbar .brand {
    flex: 0 0 auto;                /* do not shrink */
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 0;
  }

  /* Let the actions take remaining space and allow scrolling if needed */
  .topbar-actions {
    margin-left: auto;
    flex: 1 1 auto;                /* can grow and shrink */
    min-width: 0;                  /* critical so flex children can shrink */
    display: flex;
    align-items: center;
    gap: 6px;
    flex-wrap: nowrap;             /* stay on one line */
    overflow-x: auto;              /* scroll instead of overflowing */
    -webkit-overflow-scrolling: touch;
  }

  /* Compact buttons on mobile */
  .topbar-actions .btn {
    padding: 8px 10px;             /* slightly smaller */
    font-size: 0.95rem;            /* slightly smaller label */
    white-space: nowrap;           /* keep each button on one line */
  }
}

/* Extra small phones - tighten a bit more */
@media (max-width: 400px) {
  .topbar-actions {
    gap: 4px;
  }
  .topbar-actions .btn {
    padding: 6px 8px;              /* tighter padding */
    font-size: 0.9rem;             /* smaller text */
  }
}

/* Last resort on very narrow widths - allow wrap to two lines */
@media (max-width: 340px) {
  .topbar-actions {
    flex-wrap: wrap;               /* wrap if still too tight */
    row-gap: 6px;
    overflow-x: visible;           /* no horizontal scroll once wrapping is on */
  }
}
